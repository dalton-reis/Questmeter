{"version":3,"sources":["webpack:///./src/app/pages/aluno-atividade-codigo/aluno-atividade-codigo.module.ts","webpack:///./src/app/pages/aluno-atividade-codigo/aluno-atividade-codigo.page.html","webpack:///./src/app/pages/aluno-atividade-codigo/aluno-atividade-codigo.page.scss","webpack:///./src/app/pages/aluno-atividade-codigo/aluno-atividade-codigo.page.ts"],"names":[],"mappings":"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","file":"pages-aluno-atividade-codigo-aluno-atividade-codigo-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AlunoAtividadeCodigoPage } from './aluno-atividade-codigo.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AlunoAtividadeCodigoPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [AlunoAtividadeCodigoPage]\n})\nexport class AlunoAtividadeCodigoPageModule {}\n","module.exports = \"<ion-header>\\n    <ion-toolbar color=\\\"tertiary\\\">\\n      <ion-title>Entrar em uma atividade</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  \\n  <ion-content padding>\\n    <div padding>\\n      \\n      <ion-label>Insira aqui o código da atividade disponibilizado pelo professor</ion-label>\\n  \\n      <ion-item>\\n        <!-- <ion-label position=\\\"stacked\\\">Código da atividade</ion-label> -->\\n        <ion-input required type=\\\"text\\\" placeholder=\\\"Código da atividade\\\" [(ngModel)]=\\\"codigoAtividade\\\"></ion-input>\\n      </ion-item>\\n      <ion-button expand=\\\"full\\\" (click)=\\\"entrarNaAtividade()\\\">Entrar</ion-button>\\n      \\n    </div>\\n  </ion-content>\\n  \"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FsdW5vLWF0aXZpZGFkZS1jb2RpZ28vYWx1bm8tYXRpdmlkYWRlLWNvZGlnby5wYWdlLnNjc3MifQ== */\"","import { IAluno } from './../../models/aluno';\nimport { IAtividade } from './../../models/atividade';\nimport { AutenticacaoService } from './../../services/autenticacao.service';\nimport { AlunoService } from './../../services/aluno.service';\nimport { AtividadeService } from './../../services/atividade.service';\nimport { AtividadeAlunoService } from './../../services/atividade-aluno.service';\nimport { ToastController, NavController, LoadingController } from '@ionic/angular';\nimport { Component, OnInit } from '@angular/core';\nimport { IAtividadeAluno } from 'src/app/models/atividade-aluno';\n\n@Component({\n  selector: 'app-aluno-atividade-codigo',\n  templateUrl: './aluno-atividade-codigo.page.html',\n  styleUrls: ['./aluno-atividade-codigo.page.scss'],\n})\nexport class AlunoAtividadeCodigoPage implements OnInit {\n\n  atividadeAluno: IAtividadeAluno = {\n    atividade: '',\n    aluno: '',\n    alunoVotou: false,\n    alunoPontuacao: 0\n  }\n\n  codigoAtividade = null;\n  usuarioCorrente = null;\n\n  constructor(private nav: NavController, private loadingController: LoadingController, \n    private toastController: ToastController, private atividadeAlunoService: AtividadeAlunoService,\n    private atividadeService: AtividadeService, private alunoService: AlunoService,\n    private autenticacaoService: AutenticacaoService) { }\n\n  ngOnInit() { }\n\n  async entrarNaAtividade(){\n    const loading = await this.loadingController.create({\n      message: 'Carregando'\n    });\n    await loading.present();\n\n    if (this.codigoAtividade) {\n      this.usuarioCorrente = this.autenticacaoService.getID();\n      this.atividadeService.getByCodigo(this.codigoAtividade).then((atividade) => {\n        this.alunoService.getByUsuario(this.usuarioCorrente).then((aluno) =>{\n          this.atividadeAlunoService.getByAtividadeAluno(atividade[0].id, aluno[0].id)\n          .subscribe((resultado) => {\n            //arrumar\n            if(resultado.length <= 0) {\n              this.atividadeAluno.atividade = atividade[0].id;\n              this.atividadeAluno.aluno = aluno[0].id;\n              \n              this.atividadeAlunoService.add(this.atividadeAluno).then(() => {\n                loading.dismiss();\n                //this.nav.navigateForward('/tabs-aluno/aluno-atividade');\n              });\n           } //else {\n            //   loading.dismiss();\n            //   this.presentToast('Você já está adicionado nesta atividade.');\n            // }\n          });\n        });\n       });\n    }\n  }\n  async presentToast(message: string) {\n    const toast = await this.toastController.create({\n      message: message,\n      duration: 3000,\n      position: 'bottom'\n    });\n    toast.present();\n  }\n}\n"],"sourceRoot":""}