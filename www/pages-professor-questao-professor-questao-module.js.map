{"version":3,"sources":["webpack:///./src/app/pages/professor-questao/professor-questao.module.ts","webpack:///./src/app/pages/professor-questao/professor-questao.page.html","webpack:///./src/app/pages/professor-questao/professor-questao.page.scss","webpack:///./src/app/pages/professor-questao/professor-questao.page.ts","webpack:///./src/app/services/questao.service.ts"],"names":[],"mappings":"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","file":"pages-professor-questao-professor-questao-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProfessorQuestaoPage } from './professor-questao.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfessorQuestaoPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ProfessorQuestaoPage]\n})\nexport class ProfessorQuestaoPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"tertiary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Quest√£o</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <ion-list lines=\\\"full\\\">\\n    <ion-item *ngIf=\\\"questao\\\">\\n      <ion-label position=\\\"stacked\\\">Apelido</ion-label>\\n      <ion-input required type=\\\"text\\\" max-length=\\\"10\\\" [(ngModel)]=\\\"questao.apelido\\\"></ion-input>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"questao\\\">\\n      <ion-label position=\\\"stacked\\\">Problema/Desafio</ion-label>\\n      <ion-textarea required rows=\\\"4\\\" [(ngModel)]=\\\"questao.problema\\\"></ion-textarea>\\n    </ion-item>\\n  </ion-list>\\n  <ion-button expand=\\\"full\\\" (click)=\\\"save()\\\">Salvar</ion-button>\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3Byb2Zlc3Nvci1xdWVzdGFvL3Byb2Zlc3Nvci1xdWVzdGFvLnBhZ2Uuc2NzcyJ9 */\"","import { QuestaoService } from './../../services/questao.service';\nimport { NavController, LoadingController } from '@ionic/angular';\nimport { ActivatedRoute } from '@angular/router';\nimport { Component, OnInit } from '@angular/core';\nimport { IQuestao } from 'src/app/models/questao';\n\n@Component({\n  selector: 'app-professor-questao',\n  templateUrl: './professor-questao.page.html',\n  styleUrls: ['./professor-questao.page.scss'],\n})\nexport class ProfessorQuestaoPage implements OnInit {\n  \n  questao: IQuestao = {\n    atividade: null, //FK\n    apelido: '',\n    problema: '',\n    dataCriacao: new Date()\n  }\n  \n  idAtividade = null;\n  \n  constructor(private route: ActivatedRoute, private nav: NavController, \n    private loadingController: LoadingController, private questaoService: QuestaoService) { }\n    \n    ngOnInit() {\n      this.idAtividade = this.route.snapshot.params['atividade'];\n    }\n    \n    async save() {\n      const loading = await this.loadingController.create({\n        message: 'Salvando'\n      });\n      await loading.present();\n      \n      this.questao.dataCriacao = new Date(Date.now());\n      this.questaoService.add(this.questao, this.idAtividade).then(() => {\n        loading.dismiss();\n        \n        this.questaoService.getByAtividade(this.idAtividade).subscribe((resultado) => {\n          this.nav.navigateBack('/professor-questao-edicao/' + resultado[0].id);\n        });\n      });\n    }\n    \n    async onRemove(id: string) {\n      this.questaoService.remove(id);\n    }\n  }\n  \n  ","import { map } from 'rxjs/operators';\nimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';\nimport { Injectable } from '@angular/core';\nimport { IQuestao } from '../models/questao';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class QuestaoService {\n\n  private collectionQuestoes: AngularFirestoreCollection<IQuestao>;\n  private listQuestoes: Observable<IQuestao[]>;\n\n  constructor(private db: AngularFirestore) { \n    this.collectionQuestoes = db.collection<IQuestao>('questoes');\n    this.listQuestoes = this.collectionQuestoes.snapshotChanges().pipe(\n      map(actions => {\n        return actions.map(a => {\n          const data = a.payload.doc.data();\n          const id = a.payload.doc.id;\n          return {id, ...data};\n        });\n      })\n    );\n  }\n\n  getAll() {\n    return this.listQuestoes;\n  }\n\n  get(id: string) {\n    return this.collectionQuestoes.doc<IQuestao>(id).valueChanges();\n  }\n\n  getByAtividade(atividade: string) {\n    return this.db.collection<IQuestao>\n    ('questoes', ref => ref.where('atividade', '==', atividade).orderBy(\"dataCriacao\", \"desc\")).\n    snapshotChanges().pipe(\n      map(actions => {\n        return actions.map(a => {\n          const data = a.payload.doc.data();\n          const id = a.payload.doc.id;\n          return {id, ...data};\n        });\n      })\n    );\n  }\n\n  getByAtividadeAsc(atividade: string) {\n    return this.db.collection<IQuestao>\n    ('questoes', ref => ref.where('atividade', '==', atividade).orderBy(\"dataCriacao\")).\n    snapshotChanges().pipe(\n      map(actions => {\n        return actions.map(a => {\n          const data = a.payload.doc.data();\n          const id = a.payload.doc.id;\n          return {id, ...data};\n        });\n      })\n    );\n  }\n\n  add(questao: IQuestao, atividade: string) {\n    questao.atividade = atividade;\n    return this.collectionQuestoes.add(questao);\n  }\n\n  update(id: string, questao: IQuestao) {\n    return this.collectionQuestoes.doc(id).update(questao);\n  }\n\n  remove(id: string) {\n    return this.collectionQuestoes.doc(id).delete();\n  }\n}\n\n"],"sourceRoot":""}